{"backend_state":"running","kernel":"python3","kernel_state":"idle","kernel_usage":{"cpu":0,"memory":396775424},"metadata":{"language_info":{"codemirror_mode":{"name":"ipython","version":3},"file_extension":".py","mimetype":"text/x-python","name":"python","nbconvert_exporter":"python","pygments_lexer":"ipython3","version":"3.7.4"},"toc":{"base_numbering":1,"nav_menu":{},"number_sections":true,"sideBar":true,"skip_h1_title":false,"title_cell":"Table of Contents","title_sidebar":"Contents","toc_cell":false,"toc_position":{"height":"calc(100% - 180px)","left":"10px","top":"150px","width":"260.517px"},"toc_section_display":true,"toc_window_display":true},"varInspector":{"cols":{"lenName":16,"lenType":16,"lenVar":40},"kernels_config":{"python":{"delete_cmd_postfix":"","delete_cmd_prefix":"del ","library":"var_list.py","varRefreshCmd":"print(var_dic_list())"},"r":{"delete_cmd_postfix":") ","delete_cmd_prefix":"rm(","library":"var_list.r","varRefreshCmd":"cat(var_dic_list()) "}},"types_to_exclude":["module","function","builtin_function_or_method","instance","_Feature"],"window_display":false}},"trust":true,"type":"settings"}
{"cell_type":"code","end":1597700824873,"exec_count":1,"id":"a00d9a","input":"# execute to import notebook styling for tables and width etc.\nfrom IPython.core.display import HTML\nimport urllib.request\nresponse = urllib.request.urlopen('https://raw.githubusercontent.com/DataScienceUWL/DS775v2/master/ds755.css')\nHTML(response.read().decode(\"utf-8\"));","kernel":"python3","metadata":{"code_folding":[0]},"no_halt":true,"pos":0,"start":1597700824677,"state":"done","type":"cell"}
{"cell_type":"code","end":1597700825914,"exec_count":2,"id":"845ee5","input":"import pandas as pd\nimport numpy as np\n\nted = pd.read_csv('./data/ted-talks/ted_main.csv')\nted.head()","kernel":"python3","no_halt":true,"output":{"0":{"data":{"text/html":"<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>comments</th>\n      <th>description</th>\n      <th>duration</th>\n      <th>event</th>\n      <th>film_date</th>\n      <th>languages</th>\n      <th>main_speaker</th>\n      <th>name</th>\n      <th>num_speaker</th>\n      <th>published_date</th>\n      <th>ratings</th>\n      <th>related_talks</th>\n      <th>speaker_occupation</th>\n      <th>tags</th>\n      <th>title</th>\n      <th>url</th>\n      <th>views</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>4553</td>\n      <td>Sir Ken Robinson makes an entertaining and pro...</td>\n      <td>1164</td>\n      <td>TED2006</td>\n      <td>1140825600</td>\n      <td>60</td>\n      <td>Ken Robinson</td>\n      <td>Ken Robinson: Do schools kill creativity?</td>\n      <td>1</td>\n      <td>1151367060</td>\n      <td>[{'id': 7, 'name': 'Funny', 'count': 19645}, {...</td>\n      <td>[{'id': 865, 'hero': 'https://pe.tedcdn.com/im...</td>\n      <td>Author/educator</td>\n      <td>['children', 'creativity', 'culture', 'dance',...</td>\n      <td>Do schools kill creativity?</td>\n      <td>https://www.ted.com/talks/ken_robinson_says_sc...</td>\n      <td>47227110</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>265</td>\n      <td>With the same humor and humanity he exuded in ...</td>\n      <td>977</td>\n      <td>TED2006</td>\n      <td>1140825600</td>\n      <td>43</td>\n      <td>Al Gore</td>\n      <td>Al Gore: Averting the climate crisis</td>\n      <td>1</td>\n      <td>1151367060</td>\n      <td>[{'id': 7, 'name': 'Funny', 'count': 544}, {'i...</td>\n      <td>[{'id': 243, 'hero': 'https://pe.tedcdn.com/im...</td>\n      <td>Climate advocate</td>\n      <td>['alternative energy', 'cars', 'climate change...</td>\n      <td>Averting the climate crisis</td>\n      <td>https://www.ted.com/talks/al_gore_on_averting_...</td>\n      <td>3200520</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>124</td>\n      <td>New York Times columnist David Pogue takes aim...</td>\n      <td>1286</td>\n      <td>TED2006</td>\n      <td>1140739200</td>\n      <td>26</td>\n      <td>David Pogue</td>\n      <td>David Pogue: Simplicity sells</td>\n      <td>1</td>\n      <td>1151367060</td>\n      <td>[{'id': 7, 'name': 'Funny', 'count': 964}, {'i...</td>\n      <td>[{'id': 1725, 'hero': 'https://pe.tedcdn.com/i...</td>\n      <td>Technology columnist</td>\n      <td>['computers', 'entertainment', 'interface desi...</td>\n      <td>Simplicity sells</td>\n      <td>https://www.ted.com/talks/david_pogue_says_sim...</td>\n      <td>1636292</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>200</td>\n      <td>In an emotionally charged talk, MacArthur-winn...</td>\n      <td>1116</td>\n      <td>TED2006</td>\n      <td>1140912000</td>\n      <td>35</td>\n      <td>Majora Carter</td>\n      <td>Majora Carter: Greening the ghetto</td>\n      <td>1</td>\n      <td>1151367060</td>\n      <td>[{'id': 3, 'name': 'Courageous', 'count': 760}...</td>\n      <td>[{'id': 1041, 'hero': 'https://pe.tedcdn.com/i...</td>\n      <td>Activist for environmental justice</td>\n      <td>['MacArthur grant', 'activism', 'business', 'c...</td>\n      <td>Greening the ghetto</td>\n      <td>https://www.ted.com/talks/majora_carter_s_tale...</td>\n      <td>1697550</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>593</td>\n      <td>You've never seen data presented like this. Wi...</td>\n      <td>1190</td>\n      <td>TED2006</td>\n      <td>1140566400</td>\n      <td>48</td>\n      <td>Hans Rosling</td>\n      <td>Hans Rosling: The best stats you've ever seen</td>\n      <td>1</td>\n      <td>1151440680</td>\n      <td>[{'id': 9, 'name': 'Ingenious', 'count': 3202}...</td>\n      <td>[{'id': 2056, 'hero': 'https://pe.tedcdn.com/i...</td>\n      <td>Global health expert; data visionary</td>\n      <td>['Africa', 'Asia', 'Google', 'demo', 'economic...</td>\n      <td>The best stats you've ever seen</td>\n      <td>https://www.ted.com/talks/hans_rosling_shows_t...</td>\n      <td>12005869</td>\n    </tr>\n  </tbody>\n</table>\n</div>","text/plain":"   comments                                        description  duration  \\\n0      4553  Sir Ken Robinson makes an entertaining and pro...      1164   \n1       265  With the same humor and humanity he exuded in ...       977   \n2       124  New York Times columnist David Pogue takes aim...      1286   \n3       200  In an emotionally charged talk, MacArthur-winn...      1116   \n4       593  You've never seen data presented like this. Wi...      1190   \n\n     event   film_date  languages   main_speaker  \\\n0  TED2006  1140825600         60   Ken Robinson   \n1  TED2006  1140825600         43        Al Gore   \n2  TED2006  1140739200         26    David Pogue   \n3  TED2006  1140912000         35  Majora Carter   \n4  TED2006  1140566400         48   Hans Rosling   \n\n                                            name  num_speaker  published_date  \\\n0      Ken Robinson: Do schools kill creativity?            1      1151367060   \n1           Al Gore: Averting the climate crisis            1      1151367060   \n2                  David Pogue: Simplicity sells            1      1151367060   \n3             Majora Carter: Greening the ghetto            1      1151367060   \n4  Hans Rosling: The best stats you've ever seen            1      1151440680   \n\n                                             ratings  \\\n0  [{'id': 7, 'name': 'Funny', 'count': 19645}, {...   \n1  [{'id': 7, 'name': 'Funny', 'count': 544}, {'i...   \n2  [{'id': 7, 'name': 'Funny', 'count': 964}, {'i...   \n3  [{'id': 3, 'name': 'Courageous', 'count': 760}...   \n4  [{'id': 9, 'name': 'Ingenious', 'count': 3202}...   \n\n                                       related_talks  \\\n0  [{'id': 865, 'hero': 'https://pe.tedcdn.com/im...   \n1  [{'id': 243, 'hero': 'https://pe.tedcdn.com/im...   \n2  [{'id': 1725, 'hero': 'https://pe.tedcdn.com/i...   \n3  [{'id': 1041, 'hero': 'https://pe.tedcdn.com/i...   \n4  [{'id': 2056, 'hero': 'https://pe.tedcdn.com/i...   \n\n                     speaker_occupation  \\\n0                       Author/educator   \n1                      Climate advocate   \n2                  Technology columnist   \n3    Activist for environmental justice   \n4  Global health expert; data visionary   \n\n                                                tags  \\\n0  ['children', 'creativity', 'culture', 'dance',...   \n1  ['alternative energy', 'cars', 'climate change...   \n2  ['computers', 'entertainment', 'interface desi...   \n3  ['MacArthur grant', 'activism', 'business', 'c...   \n4  ['Africa', 'Asia', 'Google', 'demo', 'economic...   \n\n                             title  \\\n0      Do schools kill creativity?   \n1      Averting the climate crisis   \n2                 Simplicity sells   \n3              Greening the ghetto   \n4  The best stats you've ever seen   \n\n                                                 url     views  \n0  https://www.ted.com/talks/ken_robinson_says_sc...  47227110  \n1  https://www.ted.com/talks/al_gore_on_averting_...   3200520  \n2  https://www.ted.com/talks/david_pogue_says_sim...   1636292  \n3  https://www.ted.com/talks/majora_carter_s_tale...   1697550  \n4  https://www.ted.com/talks/hans_rosling_shows_t...  12005869  "},"exec_count":2}},"pos":3,"start":1597700824882,"state":"done","type":"cell"}
{"cell_type":"code","end":1597700825934,"exec_count":3,"id":"c8bb86","input":"ted.shape","kernel":"python3","no_halt":true,"output":{"0":{"data":{"text/plain":"(2550, 17)"},"exec_count":3}},"pos":5,"start":1597700825928,"state":"done","type":"cell"}
{"cell_type":"code","end":1597700825989,"exec_count":4,"id":"3da267","input":"#Calculate the number of views for the 10th percentile - calculated from the whole dataframe\nm = ted['views'].quantile(0.10)\n\n#Only consider talks of at least 5 minutes\nq_talks = ted[(ted['duration'] >= 300)]\n\n#Only consider talks with one speaker\nq_talks = q_talks[q_talks['num_speaker']==1]\n\n#Only consider talks in the top 90%\nq_talks = q_talks[q_talks['views'] >= m]\n\n#Inspect the number of talks that made the cut\nq_talks.shape","kernel":"python3","no_halt":true,"output":{"0":{"data":{"text/plain":"(2107, 17)"},"exec_count":4}},"pos":8,"start":1597700825942,"state":"done","type":"cell"}
{"cell_type":"code","end":1597700826033,"exec_count":5,"id":"b78644","input":"#Only consider talks of at least 5 minutes\nq_talks2 = ted[(ted['duration'] >= 300)]\n\n#Only consider talks with one speaker\nq_talks2 = q_talks2[q_talks2['num_speaker']==1]\n\n#Calculate the number of views for the 10th percentile - calculated from the whole dataframe\nm2 = q_talks2['views'].quantile(0.10)\n\n#Only consider talks in the top 90%\nq_talks2 = q_talks2[q_talks2['views'] >= m2]\n\n#Inspect the number of talks that made the cut\nq_talks2.shape","kernel":"python3","no_halt":true,"output":{"0":{"data":{"text/plain":"(2093, 17)"},"exec_count":5}},"pos":10,"start":1597700826004,"state":"done","type":"cell"}
{"cell_type":"code","end":1597700826068,"exec_count":6,"id":"7e87de","input":"#create the metric of the comments to views ratio\nq_talks['comments_per_1000views']=1000*q_talks['comments']/q_talks['views']\n\n#Sort talks in descending order of the ratio of views to comments\nq_talks = q_talks.sort_values('comments_per_1000views', ascending=False)\n\n#Print the top 10 talks\nq_talks[['description', 'main_speaker', 'comments_per_1000views']].head(10)\n","kernel":"python3","no_halt":true,"output":{"0":{"data":{"text/html":"<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>description</th>\n      <th>main_speaker</th>\n      <th>comments_per_1000views</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>803</th>\n      <td>David Bismark demos a new system for voting th...</td>\n      <td>David Bismark</td>\n      <td>1.534355</td>\n    </tr>\n    <tr>\n      <th>96</th>\n      <td>Richard Dawkins urges all atheists to openly s...</td>\n      <td>Richard Dawkins</td>\n      <td>1.463841</td>\n    </tr>\n    <tr>\n      <th>694</th>\n      <td>Filmmaker Sharmeen Obaid-Chinoy takes on a ter...</td>\n      <td>Sharmeen Obaid-Chinoy</td>\n      <td>1.420683</td>\n    </tr>\n    <tr>\n      <th>954</th>\n      <td>Janet Echelman found her true voice as an arti...</td>\n      <td>Janet Echelman</td>\n      <td>1.359572</td>\n    </tr>\n    <tr>\n      <th>840</th>\n      <td>Lesley Hazleton sat down one day to read the K...</td>\n      <td>Lesley Hazleton</td>\n      <td>1.285149</td>\n    </tr>\n    <tr>\n      <th>1787</th>\n      <td>Our consciousness is a fundamental aspect of o...</td>\n      <td>David Chalmers</td>\n      <td>1.235918</td>\n    </tr>\n    <tr>\n      <th>661</th>\n      <td>Vaccine-autism claims, \"Frankenfood\" bans, the...</td>\n      <td>Michael Specter</td>\n      <td>1.235704</td>\n    </tr>\n    <tr>\n      <th>443</th>\n      <td>At TED2009, Al Gore presents updated slides fr...</td>\n      <td>Al Gore</td>\n      <td>1.091008</td>\n    </tr>\n    <tr>\n      <th>732</th>\n      <td>In \"THE 99,\" Naif Al-Mutawa's new generation o...</td>\n      <td>Naif Al-Mutawa</td>\n      <td>0.981252</td>\n    </tr>\n    <tr>\n      <th>1148</th>\n      <td>What does environmental devastation actually l...</td>\n      <td>Garth Lenz</td>\n      <td>0.977574</td>\n    </tr>\n  </tbody>\n</table>\n</div>","text/plain":"                                            description  \\\n803   David Bismark demos a new system for voting th...   \n96    Richard Dawkins urges all atheists to openly s...   \n694   Filmmaker Sharmeen Obaid-Chinoy takes on a ter...   \n954   Janet Echelman found her true voice as an arti...   \n840   Lesley Hazleton sat down one day to read the K...   \n1787  Our consciousness is a fundamental aspect of o...   \n661   Vaccine-autism claims, \"Frankenfood\" bans, the...   \n443   At TED2009, Al Gore presents updated slides fr...   \n732   In \"THE 99,\" Naif Al-Mutawa's new generation o...   \n1148  What does environmental devastation actually l...   \n\n               main_speaker  comments_per_1000views  \n803           David Bismark                1.534355  \n96          Richard Dawkins                1.463841  \n694   Sharmeen Obaid-Chinoy                1.420683  \n954          Janet Echelman                1.359572  \n840         Lesley Hazleton                1.285149  \n1787         David Chalmers                1.235918  \n661         Michael Specter                1.235704  \n443                 Al Gore                1.091008  \n732          Naif Al-Mutawa                0.981252  \n1148             Garth Lenz                0.977574  "},"exec_count":6}},"pos":13,"start":1597700826048,"state":"done","type":"cell"}
{"cell_type":"code","end":1597700826172,"exec_count":7,"id":"527205","input":"#Convert release_date into pandas datetime format\nted['published_date'] = pd.to_datetime(ted['published_date'],\n                                       errors='coerce', unit='s')\n\n#see what the new date looks like\nprint(\"This is what the datetime string looks like:\")\ndisplay(ted['published_date'].head())\n\n\n#Extract year from the datetime\nted['published_year'] = ted['published_date'].apply(lambda x: str(x).split('-')[0] if x != np.nan else np.nan)\n\n#Helper function to convert NaT to 0 and all other years to integers.\ndef convert_int(x):\n    try:\n        return int(x)\n    except:\n        return 0\n\n#Apply convert_int to the year feature\nted['published_year'] = ted['published_year'].apply(convert_int)\n    \nted.head()","kernel":"python3","no_halt":true,"output":{"0":{"name":"stdout","text":"This is what the datetime string looks like:\n"},"1":{"data":{"text/plain":"0   2006-06-27 00:11:00\n1   2006-06-27 00:11:00\n2   2006-06-27 00:11:00\n3   2006-06-27 00:11:00\n4   2006-06-27 20:38:00\nName: published_date, dtype: datetime64[ns]"}},"2":{"data":{"text/html":"<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>comments</th>\n      <th>description</th>\n      <th>duration</th>\n      <th>event</th>\n      <th>film_date</th>\n      <th>languages</th>\n      <th>main_speaker</th>\n      <th>name</th>\n      <th>num_speaker</th>\n      <th>published_date</th>\n      <th>ratings</th>\n      <th>related_talks</th>\n      <th>speaker_occupation</th>\n      <th>tags</th>\n      <th>title</th>\n      <th>url</th>\n      <th>views</th>\n      <th>published_year</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>4553</td>\n      <td>Sir Ken Robinson makes an entertaining and pro...</td>\n      <td>1164</td>\n      <td>TED2006</td>\n      <td>1140825600</td>\n      <td>60</td>\n      <td>Ken Robinson</td>\n      <td>Ken Robinson: Do schools kill creativity?</td>\n      <td>1</td>\n      <td>2006-06-27 00:11:00</td>\n      <td>[{'id': 7, 'name': 'Funny', 'count': 19645}, {...</td>\n      <td>[{'id': 865, 'hero': 'https://pe.tedcdn.com/im...</td>\n      <td>Author/educator</td>\n      <td>['children', 'creativity', 'culture', 'dance',...</td>\n      <td>Do schools kill creativity?</td>\n      <td>https://www.ted.com/talks/ken_robinson_says_sc...</td>\n      <td>47227110</td>\n      <td>2006</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>265</td>\n      <td>With the same humor and humanity he exuded in ...</td>\n      <td>977</td>\n      <td>TED2006</td>\n      <td>1140825600</td>\n      <td>43</td>\n      <td>Al Gore</td>\n      <td>Al Gore: Averting the climate crisis</td>\n      <td>1</td>\n      <td>2006-06-27 00:11:00</td>\n      <td>[{'id': 7, 'name': 'Funny', 'count': 544}, {'i...</td>\n      <td>[{'id': 243, 'hero': 'https://pe.tedcdn.com/im...</td>\n      <td>Climate advocate</td>\n      <td>['alternative energy', 'cars', 'climate change...</td>\n      <td>Averting the climate crisis</td>\n      <td>https://www.ted.com/talks/al_gore_on_averting_...</td>\n      <td>3200520</td>\n      <td>2006</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>124</td>\n      <td>New York Times columnist David Pogue takes aim...</td>\n      <td>1286</td>\n      <td>TED2006</td>\n      <td>1140739200</td>\n      <td>26</td>\n      <td>David Pogue</td>\n      <td>David Pogue: Simplicity sells</td>\n      <td>1</td>\n      <td>2006-06-27 00:11:00</td>\n      <td>[{'id': 7, 'name': 'Funny', 'count': 964}, {'i...</td>\n      <td>[{'id': 1725, 'hero': 'https://pe.tedcdn.com/i...</td>\n      <td>Technology columnist</td>\n      <td>['computers', 'entertainment', 'interface desi...</td>\n      <td>Simplicity sells</td>\n      <td>https://www.ted.com/talks/david_pogue_says_sim...</td>\n      <td>1636292</td>\n      <td>2006</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>200</td>\n      <td>In an emotionally charged talk, MacArthur-winn...</td>\n      <td>1116</td>\n      <td>TED2006</td>\n      <td>1140912000</td>\n      <td>35</td>\n      <td>Majora Carter</td>\n      <td>Majora Carter: Greening the ghetto</td>\n      <td>1</td>\n      <td>2006-06-27 00:11:00</td>\n      <td>[{'id': 3, 'name': 'Courageous', 'count': 760}...</td>\n      <td>[{'id': 1041, 'hero': 'https://pe.tedcdn.com/i...</td>\n      <td>Activist for environmental justice</td>\n      <td>['MacArthur grant', 'activism', 'business', 'c...</td>\n      <td>Greening the ghetto</td>\n      <td>https://www.ted.com/talks/majora_carter_s_tale...</td>\n      <td>1697550</td>\n      <td>2006</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>593</td>\n      <td>You've never seen data presented like this. Wi...</td>\n      <td>1190</td>\n      <td>TED2006</td>\n      <td>1140566400</td>\n      <td>48</td>\n      <td>Hans Rosling</td>\n      <td>Hans Rosling: The best stats you've ever seen</td>\n      <td>1</td>\n      <td>2006-06-27 20:38:00</td>\n      <td>[{'id': 9, 'name': 'Ingenious', 'count': 3202}...</td>\n      <td>[{'id': 2056, 'hero': 'https://pe.tedcdn.com/i...</td>\n      <td>Global health expert; data visionary</td>\n      <td>['Africa', 'Asia', 'Google', 'demo', 'economic...</td>\n      <td>The best stats you've ever seen</td>\n      <td>https://www.ted.com/talks/hans_rosling_shows_t...</td>\n      <td>12005869</td>\n      <td>2006</td>\n    </tr>\n  </tbody>\n</table>\n</div>","text/plain":"   comments                                        description  duration  \\\n0      4553  Sir Ken Robinson makes an entertaining and pro...      1164   \n1       265  With the same humor and humanity he exuded in ...       977   \n2       124  New York Times columnist David Pogue takes aim...      1286   \n3       200  In an emotionally charged talk, MacArthur-winn...      1116   \n4       593  You've never seen data presented like this. Wi...      1190   \n\n     event   film_date  languages   main_speaker  \\\n0  TED2006  1140825600         60   Ken Robinson   \n1  TED2006  1140825600         43        Al Gore   \n2  TED2006  1140739200         26    David Pogue   \n3  TED2006  1140912000         35  Majora Carter   \n4  TED2006  1140566400         48   Hans Rosling   \n\n                                            name  num_speaker  \\\n0      Ken Robinson: Do schools kill creativity?            1   \n1           Al Gore: Averting the climate crisis            1   \n2                  David Pogue: Simplicity sells            1   \n3             Majora Carter: Greening the ghetto            1   \n4  Hans Rosling: The best stats you've ever seen            1   \n\n       published_date                                            ratings  \\\n0 2006-06-27 00:11:00  [{'id': 7, 'name': 'Funny', 'count': 19645}, {...   \n1 2006-06-27 00:11:00  [{'id': 7, 'name': 'Funny', 'count': 544}, {'i...   \n2 2006-06-27 00:11:00  [{'id': 7, 'name': 'Funny', 'count': 964}, {'i...   \n3 2006-06-27 00:11:00  [{'id': 3, 'name': 'Courageous', 'count': 760}...   \n4 2006-06-27 20:38:00  [{'id': 9, 'name': 'Ingenious', 'count': 3202}...   \n\n                                       related_talks  \\\n0  [{'id': 865, 'hero': 'https://pe.tedcdn.com/im...   \n1  [{'id': 243, 'hero': 'https://pe.tedcdn.com/im...   \n2  [{'id': 1725, 'hero': 'https://pe.tedcdn.com/i...   \n3  [{'id': 1041, 'hero': 'https://pe.tedcdn.com/i...   \n4  [{'id': 2056, 'hero': 'https://pe.tedcdn.com/i...   \n\n                     speaker_occupation  \\\n0                       Author/educator   \n1                      Climate advocate   \n2                  Technology columnist   \n3    Activist for environmental justice   \n4  Global health expert; data visionary   \n\n                                                tags  \\\n0  ['children', 'creativity', 'culture', 'dance',...   \n1  ['alternative energy', 'cars', 'climate change...   \n2  ['computers', 'entertainment', 'interface desi...   \n3  ['MacArthur grant', 'activism', 'business', 'c...   \n4  ['Africa', 'Asia', 'Google', 'demo', 'economic...   \n\n                             title  \\\n0      Do schools kill creativity?   \n1      Averting the climate crisis   \n2                 Simplicity sells   \n3              Greening the ghetto   \n4  The best stats you've ever seen   \n\n                                                 url     views  published_year  \n0  https://www.ted.com/talks/ken_robinson_says_sc...  47227110            2006  \n1  https://www.ted.com/talks/al_gore_on_averting_...   3200520            2006  \n2  https://www.ted.com/talks/david_pogue_says_sim...   1636292            2006  \n3  https://www.ted.com/talks/majora_carter_s_tale...   1697550            2006  \n4  https://www.ted.com/talks/hans_rosling_shows_t...  12005869            2006  "},"exec_count":7}},"pos":15,"start":1597700826087,"state":"done","type":"cell"}
{"cell_type":"code","end":1597700826853,"exec_count":8,"id":"163ed0","input":"#Import the literal_eval function from ast\nfrom ast import literal_eval\n\n#Convert all NaN into stringified empty lists\nted['ratings'] = ted['ratings'].fillna('[]')\n\n#Apply literal_eval to convert stringified empty lists to the list object\nted['ratings'] = ted['ratings'].apply(literal_eval)\n\n\n#Convert list of dictionaries to a list of strings\nted['ratings'] = ted['ratings'].apply(lambda x: [i['name'].lower() for i in x] if isinstance(x, list) else [])\n\n#See how 'ratings' has changed?\nted.head()","kernel":"python3","no_halt":true,"output":{"0":{"data":{"text/html":"<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>comments</th>\n      <th>description</th>\n      <th>duration</th>\n      <th>event</th>\n      <th>film_date</th>\n      <th>languages</th>\n      <th>main_speaker</th>\n      <th>name</th>\n      <th>num_speaker</th>\n      <th>published_date</th>\n      <th>ratings</th>\n      <th>related_talks</th>\n      <th>speaker_occupation</th>\n      <th>tags</th>\n      <th>title</th>\n      <th>url</th>\n      <th>views</th>\n      <th>published_year</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>4553</td>\n      <td>Sir Ken Robinson makes an entertaining and pro...</td>\n      <td>1164</td>\n      <td>TED2006</td>\n      <td>1140825600</td>\n      <td>60</td>\n      <td>Ken Robinson</td>\n      <td>Ken Robinson: Do schools kill creativity?</td>\n      <td>1</td>\n      <td>2006-06-27 00:11:00</td>\n      <td>[funny, beautiful, ingenious, courageous, long...</td>\n      <td>[{'id': 865, 'hero': 'https://pe.tedcdn.com/im...</td>\n      <td>Author/educator</td>\n      <td>['children', 'creativity', 'culture', 'dance',...</td>\n      <td>Do schools kill creativity?</td>\n      <td>https://www.ted.com/talks/ken_robinson_says_sc...</td>\n      <td>47227110</td>\n      <td>2006</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>265</td>\n      <td>With the same humor and humanity he exuded in ...</td>\n      <td>977</td>\n      <td>TED2006</td>\n      <td>1140825600</td>\n      <td>43</td>\n      <td>Al Gore</td>\n      <td>Al Gore: Averting the climate crisis</td>\n      <td>1</td>\n      <td>2006-06-27 00:11:00</td>\n      <td>[funny, courageous, confusing, beautiful, unco...</td>\n      <td>[{'id': 243, 'hero': 'https://pe.tedcdn.com/im...</td>\n      <td>Climate advocate</td>\n      <td>['alternative energy', 'cars', 'climate change...</td>\n      <td>Averting the climate crisis</td>\n      <td>https://www.ted.com/talks/al_gore_on_averting_...</td>\n      <td>3200520</td>\n      <td>2006</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>124</td>\n      <td>New York Times columnist David Pogue takes aim...</td>\n      <td>1286</td>\n      <td>TED2006</td>\n      <td>1140739200</td>\n      <td>26</td>\n      <td>David Pogue</td>\n      <td>David Pogue: Simplicity sells</td>\n      <td>1</td>\n      <td>2006-06-27 00:11:00</td>\n      <td>[funny, courageous, ingenious, beautiful, unco...</td>\n      <td>[{'id': 1725, 'hero': 'https://pe.tedcdn.com/i...</td>\n      <td>Technology columnist</td>\n      <td>['computers', 'entertainment', 'interface desi...</td>\n      <td>Simplicity sells</td>\n      <td>https://www.ted.com/talks/david_pogue_says_sim...</td>\n      <td>1636292</td>\n      <td>2006</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>200</td>\n      <td>In an emotionally charged talk, MacArthur-winn...</td>\n      <td>1116</td>\n      <td>TED2006</td>\n      <td>1140912000</td>\n      <td>35</td>\n      <td>Majora Carter</td>\n      <td>Majora Carter: Greening the ghetto</td>\n      <td>1</td>\n      <td>2006-06-27 00:11:00</td>\n      <td>[courageous, beautiful, confusing, funny, inge...</td>\n      <td>[{'id': 1041, 'hero': 'https://pe.tedcdn.com/i...</td>\n      <td>Activist for environmental justice</td>\n      <td>['MacArthur grant', 'activism', 'business', 'c...</td>\n      <td>Greening the ghetto</td>\n      <td>https://www.ted.com/talks/majora_carter_s_tale...</td>\n      <td>1697550</td>\n      <td>2006</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>593</td>\n      <td>You've never seen data presented like this. Wi...</td>\n      <td>1190</td>\n      <td>TED2006</td>\n      <td>1140566400</td>\n      <td>48</td>\n      <td>Hans Rosling</td>\n      <td>Hans Rosling: The best stats you've ever seen</td>\n      <td>1</td>\n      <td>2006-06-27 20:38:00</td>\n      <td>[ingenious, funny, beautiful, courageous, long...</td>\n      <td>[{'id': 2056, 'hero': 'https://pe.tedcdn.com/i...</td>\n      <td>Global health expert; data visionary</td>\n      <td>['Africa', 'Asia', 'Google', 'demo', 'economic...</td>\n      <td>The best stats you've ever seen</td>\n      <td>https://www.ted.com/talks/hans_rosling_shows_t...</td>\n      <td>12005869</td>\n      <td>2006</td>\n    </tr>\n  </tbody>\n</table>\n</div>","text/plain":"   comments                                        description  duration  \\\n0      4553  Sir Ken Robinson makes an entertaining and pro...      1164   \n1       265  With the same humor and humanity he exuded in ...       977   \n2       124  New York Times columnist David Pogue takes aim...      1286   \n3       200  In an emotionally charged talk, MacArthur-winn...      1116   \n4       593  You've never seen data presented like this. Wi...      1190   \n\n     event   film_date  languages   main_speaker  \\\n0  TED2006  1140825600         60   Ken Robinson   \n1  TED2006  1140825600         43        Al Gore   \n2  TED2006  1140739200         26    David Pogue   \n3  TED2006  1140912000         35  Majora Carter   \n4  TED2006  1140566400         48   Hans Rosling   \n\n                                            name  num_speaker  \\\n0      Ken Robinson: Do schools kill creativity?            1   \n1           Al Gore: Averting the climate crisis            1   \n2                  David Pogue: Simplicity sells            1   \n3             Majora Carter: Greening the ghetto            1   \n4  Hans Rosling: The best stats you've ever seen            1   \n\n       published_date                                            ratings  \\\n0 2006-06-27 00:11:00  [funny, beautiful, ingenious, courageous, long...   \n1 2006-06-27 00:11:00  [funny, courageous, confusing, beautiful, unco...   \n2 2006-06-27 00:11:00  [funny, courageous, ingenious, beautiful, unco...   \n3 2006-06-27 00:11:00  [courageous, beautiful, confusing, funny, inge...   \n4 2006-06-27 20:38:00  [ingenious, funny, beautiful, courageous, long...   \n\n                                       related_talks  \\\n0  [{'id': 865, 'hero': 'https://pe.tedcdn.com/im...   \n1  [{'id': 243, 'hero': 'https://pe.tedcdn.com/im...   \n2  [{'id': 1725, 'hero': 'https://pe.tedcdn.com/i...   \n3  [{'id': 1041, 'hero': 'https://pe.tedcdn.com/i...   \n4  [{'id': 2056, 'hero': 'https://pe.tedcdn.com/i...   \n\n                     speaker_occupation  \\\n0                       Author/educator   \n1                      Climate advocate   \n2                  Technology columnist   \n3    Activist for environmental justice   \n4  Global health expert; data visionary   \n\n                                                tags  \\\n0  ['children', 'creativity', 'culture', 'dance',...   \n1  ['alternative energy', 'cars', 'climate change...   \n2  ['computers', 'entertainment', 'interface desi...   \n3  ['MacArthur grant', 'activism', 'business', 'c...   \n4  ['Africa', 'Asia', 'Google', 'demo', 'economic...   \n\n                             title  \\\n0      Do schools kill creativity?   \n1      Averting the climate crisis   \n2                 Simplicity sells   \n3              Greening the ghetto   \n4  The best stats you've ever seen   \n\n                                                 url     views  published_year  \n0  https://www.ted.com/talks/ken_robinson_says_sc...  47227110            2006  \n1  https://www.ted.com/talks/al_gore_on_averting_...   3200520            2006  \n2  https://www.ted.com/talks/david_pogue_says_sim...   1636292            2006  \n3  https://www.ted.com/talks/majora_carter_s_tale...   1697550            2006  \n4  https://www.ted.com/talks/hans_rosling_shows_t...  12005869            2006  "},"exec_count":8}},"pos":17,"start":1597700826225,"state":"done","type":"cell"}
{"cell_type":"code","end":1597700826929,"exec_count":9,"id":"8d94e7","input":"def build_chart(gen_ted, percentile=0.1):\n    #Show user the list of word ratings to choose from\n    s = ', '.join(gen_ted.apply(lambda x:pd.Series(x['ratings']),axis=1).stack().unique())\n    print(s)\n    \n    \n    #Ask for preferred word rating\n    print(\"Select a descriptive word from the list above for the 'word rating'\")\n    rating = input()\n    \n    #Ask for lower limit of film year\n    print(\"Input earliest year published (2006 to 2017)\")\n    low_year = int(input())\n    \n    #Ask for upper limit of film year\n    print(\"Input latest year published(2006 to 2017)\")\n    high_year = int(input())\n    \n    \n    #Define a new talks variable to store the preferred talks. \n    #Copy the contents of gen_ted to talks\n    talks = gen_ted.copy()\n    \n    #Filter based on the condition\n    talks = talks[(talks['ratings'].apply(lambda x: rating in x)) & \n                    (talks['published_year'] >= low_year) & \n                    (talks['published_year'] <= high_year)]\n    \n    #Calculate the number of views for the  percentile \n    m = talks['views'].quantile(percentile)\n\n    #Only consider movies that have higher than m votes. Save this in a new dataframe q_movies (note using .loc here prevents a warning)\n    q_talks = talks.copy().loc[talks['views'] >= m]\n    \n    #create the metric of the comments to views ratio\n    q_talks['comments_per_1000views']=1000*q_talks['comments']/q_talks['views']\n\n    #Sort talks in descending order of the ratio of views to comments\n    q_talks = q_talks.sort_values('comments_per_1000views', ascending=False)\n    \n    return q_talks","kernel":"python3","no_halt":true,"pos":19,"start":1597700826864,"state":"done","type":"cell"}
{"cell_type":"code","end":1597700840406,"exec_count":10,"id":"cd1bc5","input":"#Generate the chart for top talks for these user preferences and display top 5.\n#Show the results for the word rating \"obnoxious\" and published years between 2009 and 2014.\ngen_ted_final = build_chart(ted).head(5)\n\ngen_ted_final[['main_speaker','name','published_year','comments_per_1000views']]","kernel":"python3","no_halt":true,"output":{"0":{"name":"stdout","text":"funny, beautiful, ingenious, courageous, longwinded, confusing, informative, fascinating, unconvincing, persuasive, jaw-dropping, ok, obnoxious, inspiring\nSelect a descriptive word from the list above for the 'word rating'\n"},"1":{"name":"input","opts":{"password":false,"prompt":""},"value":"ingenious"},"2":{"name":"input","opts":{"password":false,"prompt":""}},"3":{"name":"stdout","text":"Input earliest year published (2006 to 2017)\n","value":"2010"},"4":{"name":"stdout","text":"Input latest year published(2006 to 2017)\n"},"5":{"name":"input","opts":{"password":false,"prompt":""},"value":"2017"},"6":{"data":{"text/html":"<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>main_speaker</th>\n      <th>name</th>\n      <th>published_year</th>\n      <th>comments_per_1000views</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>694</th>\n      <td>Sharmeen Obaid-Chinoy</td>\n      <td>Sharmeen Obaid-Chinoy: Inside a school for sui...</td>\n      <td>2010</td>\n      <td>1.420683</td>\n    </tr>\n    <tr>\n      <th>954</th>\n      <td>Janet Echelman</td>\n      <td>Janet Echelman: Taking imagination seriously</td>\n      <td>2011</td>\n      <td>1.359572</td>\n    </tr>\n    <tr>\n      <th>840</th>\n      <td>Lesley Hazleton</td>\n      <td>Lesley Hazleton: On reading the Koran</td>\n      <td>2011</td>\n      <td>1.285149</td>\n    </tr>\n    <tr>\n      <th>1787</th>\n      <td>David Chalmers</td>\n      <td>David Chalmers: How do you explain consciousness?</td>\n      <td>2014</td>\n      <td>1.235918</td>\n    </tr>\n    <tr>\n      <th>661</th>\n      <td>Michael Specter</td>\n      <td>Michael Specter: The danger of science denial</td>\n      <td>2010</td>\n      <td>1.235704</td>\n    </tr>\n  </tbody>\n</table>\n</div>","text/plain":"               main_speaker  \\\n694   Sharmeen Obaid-Chinoy   \n954          Janet Echelman   \n840         Lesley Hazleton   \n1787         David Chalmers   \n661         Michael Specter   \n\n                                                   name  published_year  \\\n694   Sharmeen Obaid-Chinoy: Inside a school for sui...            2010   \n954        Janet Echelman: Taking imagination seriously            2011   \n840               Lesley Hazleton: On reading the Koran            2011   \n1787  David Chalmers: How do you explain consciousness?            2014   \n661       Michael Specter: The danger of science denial            2010   \n\n      comments_per_1000views  \n694                 1.420683  \n954                 1.359572  \n840                 1.285149  \n1787                1.235918  \n661                 1.235704  "},"exec_count":10}},"pos":20,"start":1597700826935,"state":"done","type":"cell"}
{"cell_type":"code","end":1597700841173,"exec_count":11,"id":"7904c7","input":"#Import TfIdfVectorizer from the scikit-learn library\nfrom sklearn.feature_extraction.text import TfidfVectorizer\n\n#Define a TF-IDF Vectorizer Object. Remove all english stopwords\ntfidf = TfidfVectorizer(stop_words='english')\n\n#Replace NaN with an empty string\nted['description'] = ted['description'].fillna('')\n\n#Construct the required TF-IDF matrix by applying the fit_transform method on the description feature\ntfidf_matrix = tfidf.fit_transform(ted['description'])\n\n#Output the shape of tfidf_matrix (rows first, then columns)\ntfidf_matrix.shape","kernel":"python3","no_halt":true,"output":{"0":{"data":{"text/plain":"(2550, 15162)"},"exec_count":11}},"pos":22,"start":1597700840414,"state":"done","type":"cell"}
{"cell_type":"code","end":1597700841206,"exec_count":12,"id":"2eb518","input":"#bonus - take a look some of the individual words in the description\nfeature_names = tfidf.get_feature_names()\nfeature_names[500:510]","kernel":"python3","no_halt":true,"output":{"0":{"data":{"text/plain":"['albatrosses',\n 'albert',\n 'alberta',\n 'alberto',\n 'albinism',\n 'albright',\n 'album',\n 'albuquerque',\n 'alchemists',\n 'alcohol']"},"exec_count":12}},"pos":23,"start":1597700841199,"state":"done","type":"cell"}
{"cell_type":"code","end":1597700841520,"exec_count":13,"id":"c201d5","input":"#bonus - this is saying that for the first document, none of the 500th to 510th words shown above show up in that document\ntfidf_list = tfidf_matrix.toarray()\ntfidf_list[0, 500:510]","kernel":"python3","no_halt":true,"output":{"0":{"data":{"text/plain":"array([0., 0., 0., 0., 0., 0., 0., 0., 0., 0.])"},"exec_count":13}},"pos":24,"start":1597700841232,"state":"done","type":"cell"}
{"cell_type":"code","end":1597700841783,"exec_count":14,"id":"3750eb","input":"# Import linear_kernel to compute the dot product\nfrom sklearn.metrics.pairwise import linear_kernel\n\n# Compute the cosine similarity matrix\ncosine_sim = linear_kernel(tfidf_matrix, tfidf_matrix)\n\n#Construct a reverse mapping of indices and talk names, and drop duplicate names, if any\nindices = pd.Series(ted.index, index=ted['name']).drop_duplicates()","kernel":"python3","no_halt":true,"pos":26,"start":1597700841533,"state":"done","type":"cell"}
{"cell_type":"code","end":1597700841796,"exec_count":15,"id":"d3571a","input":"# Function that takes in talk title as input and gives recommendations \ndef content_recommender(df, title, cosine_sim, indices, topN=2): \n    # Obtain the index of the movie that matches the title\n    idx = indices[title]\n    # Get the pairwsie similarity scores of all movies with that movie and convert to tuples\n    sim_scores = list(enumerate(cosine_sim[idx]))\n    #delete the movie that was passed in\n    del sim_scores[idx]\n    \n    # Sort the movies based on the cosine similarity scores\n    sim_scores = sorted(sim_scores, key=lambda x: x[1], reverse=True)\n    \n    # Get the scores of the top-n most similar movies.\n    sim_scores = sim_scores[:topN]\n    \n    # Get the movie indices\n    movie_indices = [i[0] for i in sim_scores]\n    \n    # Return the top 10 most similar movies\n    return df.iloc[movie_indices]\n","kernel":"python3","no_halt":true,"pos":27,"start":1597700841792,"state":"done","type":"cell"}
{"cell_type":"code","end":1597700841863,"exec_count":16,"id":"044dc9","input":"#Get recommendations for Tyler Cowen: Be suspicious of simple stories\ncontent_recommender(ted, 'Tyler Cowen: Be suspicious of simple stories', cosine_sim, indices, 10)","kernel":"python3","no_halt":true,"output":{"0":{"data":{"text/html":"<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>comments</th>\n      <th>description</th>\n      <th>duration</th>\n      <th>event</th>\n      <th>film_date</th>\n      <th>languages</th>\n      <th>main_speaker</th>\n      <th>name</th>\n      <th>num_speaker</th>\n      <th>published_date</th>\n      <th>ratings</th>\n      <th>related_talks</th>\n      <th>speaker_occupation</th>\n      <th>tags</th>\n      <th>title</th>\n      <th>url</th>\n      <th>views</th>\n      <th>published_year</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>1910</th>\n      <td>54</td>\n      <td>Making toast doesnâ€™t sound very complicated --...</td>\n      <td>541</td>\n      <td>TEDGlobal 2013</td>\n      <td>1370822400</td>\n      <td>28</td>\n      <td>Tom Wujec</td>\n      <td>Tom Wujec: Got a wicked problem? First, tell m...</td>\n      <td>1</td>\n      <td>2015-02-05 16:01:26</td>\n      <td>[ingenious, fascinating, jaw-dropping, funny, ...</td>\n      <td>[{'id': 145, 'hero': 'https://pe.tedcdn.com/im...</td>\n      <td>Designer</td>\n      <td>['business', 'collaboration', 'creativity', 'd...</td>\n      <td>Got a wicked problem? First, tell me how you m...</td>\n      <td>https://www.ted.com/talks/tom_wujec_got_a_wick...</td>\n      <td>2482234</td>\n      <td>2015</td>\n    </tr>\n    <tr>\n      <th>451</th>\n      <td>324</td>\n      <td>Behavioral economist Dan Ariely, the author of...</td>\n      <td>1046</td>\n      <td>EG 2008</td>\n      <td>1229040000</td>\n      <td>45</td>\n      <td>Dan Ariely</td>\n      <td>Dan Ariely: Are we in control of our own decis...</td>\n      <td>1</td>\n      <td>2009-05-19 01:00:00</td>\n      <td>[ingenious, funny, informative, courageous, fa...</td>\n      <td>[{'id': 487, 'hero': 'https://pe.tedcdn.com/im...</td>\n      <td>Behavioral economist</td>\n      <td>['culture', 'decision-making', 'economics', 'g...</td>\n      <td>Are we in control of our own decisions?</td>\n      <td>https://www.ted.com/talks/dan_ariely_asks_are_...</td>\n      <td>4934167</td>\n      <td>2009</td>\n    </tr>\n    <tr>\n      <th>1115</th>\n      <td>110</td>\n      <td>Cybercrime expert Mikko Hypponen talks us thro...</td>\n      <td>563</td>\n      <td>TEDxBrussels</td>\n      <td>1321488000</td>\n      <td>36</td>\n      <td>Mikko Hypponen</td>\n      <td>Mikko Hypponen: Three types of online attack</td>\n      <td>1</td>\n      <td>2012-01-18 14:54:24</td>\n      <td>[persuasive, informative, jaw-dropping, inspir...</td>\n      <td>[{'id': 1192, 'hero': 'https://pe.tedcdn.com/i...</td>\n      <td>Cybersecurity expert</td>\n      <td>['Internet', 'Surveillance', 'TEDx', 'crime', ...</td>\n      <td>Three types of online attack</td>\n      <td>https://www.ted.com/talks/mikko_hypponen_three...</td>\n      <td>957219</td>\n      <td>2012</td>\n    </tr>\n    <tr>\n      <th>1405</th>\n      <td>810</td>\n      <td>When war between Israel and Iran seemed immine...</td>\n      <td>897</td>\n      <td>TEDxJaffa 2012</td>\n      <td>1346889600</td>\n      <td>33</td>\n      <td>Ronny Edry</td>\n      <td>Ronny Edry: Israel and Iran: A love story?</td>\n      <td>1</td>\n      <td>2012-12-21 16:08:02</td>\n      <td>[beautiful, jaw-dropping, courageous, inspirin...</td>\n      <td>[{'id': 1214, 'hero': 'https://pe.tedcdn.com/i...</td>\n      <td>Graphic Designer</td>\n      <td>['Iran', 'Middle East', 'TEDx', 'design', 'glo...</td>\n      <td>Israel and Iran: A love story?</td>\n      <td>https://www.ted.com/talks/israel_and_iran_a_lo...</td>\n      <td>2033797</td>\n      <td>2012</td>\n    </tr>\n    <tr>\n      <th>2361</th>\n      <td>31</td>\n      <td>Stories are necessary, but they're not as magi...</td>\n      <td>766</td>\n      <td>TEDWomen 2016</td>\n      <td>1477526400</td>\n      <td>20</td>\n      <td>Sisonke Msimang</td>\n      <td>Sisonke Msimang: If a story moves you, act on it</td>\n      <td>1</td>\n      <td>2017-01-13 16:19:34</td>\n      <td>[ingenious, inspiring, fascinating, informativ...</td>\n      <td>[{'id': 462, 'hero': 'https://pe.tedcdn.com/im...</td>\n      <td>Writer, activist</td>\n      <td>['Africa', 'Internet', 'activism', 'collaborat...</td>\n      <td>If a story moves you, act on it</td>\n      <td>https://www.ted.com/talks/sisonke_msimang_if_a...</td>\n      <td>1147037</td>\n      <td>2017</td>\n    </tr>\n    <tr>\n      <th>406</th>\n      <td>280</td>\n      <td>Behavioral economist Dan Ariely studies the bu...</td>\n      <td>983</td>\n      <td>TED2009</td>\n      <td>1233964800</td>\n      <td>36</td>\n      <td>Dan Ariely</td>\n      <td>Dan Ariely: Our buggy moral code</td>\n      <td>1</td>\n      <td>2009-03-17 01:00:00</td>\n      <td>[ingenious, persuasive, fascinating, informati...</td>\n      <td>[{'id': 420, 'hero': 'https://pe.tedcdn.com/im...</td>\n      <td>Behavioral economist</td>\n      <td>['brain', 'culture', 'economics', 'evil', 'mot...</td>\n      <td>Our buggy moral code</td>\n      <td>https://www.ted.com/talks/dan_ariely_on_our_bu...</td>\n      <td>2725557</td>\n      <td>2009</td>\n    </tr>\n    <tr>\n      <th>775</th>\n      <td>229</td>\n      <td>Julian Treasure says our increasingly noisy wo...</td>\n      <td>434</td>\n      <td>TEDGlobal 2010</td>\n      <td>1278633600</td>\n      <td>35</td>\n      <td>Julian Treasure</td>\n      <td>Julian Treasure: Shh! Sound health in 8 steps</td>\n      <td>1</td>\n      <td>2010-09-23 13:55:00</td>\n      <td>[unconvincing, obnoxious, fascinating, persuas...</td>\n      <td>[{'id': 660, 'hero': 'https://pe.tedcdn.com/im...</td>\n      <td>Sound consultant</td>\n      <td>['Senses', 'design', 'music', 'nature', 'psych...</td>\n      <td>Shh! Sound health in 8 steps</td>\n      <td>https://www.ted.com/talks/julian_treasure_shh_...</td>\n      <td>1147609</td>\n      <td>2010</td>\n    </tr>\n    <tr>\n      <th>335</th>\n      <td>45</td>\n      <td>Would you negotiate with someone you knew to b...</td>\n      <td>1389</td>\n      <td>TED2008</td>\n      <td>1201910400</td>\n      <td>20</td>\n      <td>Samantha Power</td>\n      <td>Samantha Power: A complicated hero in the war ...</td>\n      <td>1</td>\n      <td>2008-11-11 01:00:00</td>\n      <td>[courageous, inspiring, persuasive, jaw-droppi...</td>\n      <td>[{'id': 272, 'hero': 'https://pe.tedcdn.com/im...</td>\n      <td>Political scientist and journalist</td>\n      <td>['communication', 'global issues', 'morality',...</td>\n      <td>A complicated hero in the war on dictatorship</td>\n      <td>https://www.ted.com/talks/samantha_power_on_a_...</td>\n      <td>456095</td>\n      <td>2008</td>\n    </tr>\n    <tr>\n      <th>145</th>\n      <td>83</td>\n      <td>The MIT Media Lab's John Maeda lives at the in...</td>\n      <td>959</td>\n      <td>TED2007</td>\n      <td>1172880000</td>\n      <td>24</td>\n      <td>John Maeda</td>\n      <td>John Maeda: Designing for simplicity</td>\n      <td>1</td>\n      <td>2007-09-20 08:38:00</td>\n      <td>[funny, beautiful, fascinating, inspiring, inf...</td>\n      <td>[{'id': 2, 'hero': 'https://pe.tedcdn.com/imag...</td>\n      <td>Artist</td>\n      <td>['art', 'design', 'simplicity', 'technology']</td>\n      <td>Designing for simplicity</td>\n      <td>https://www.ted.com/talks/john_maeda_on_the_si...</td>\n      <td>1215947</td>\n      <td>2007</td>\n    </tr>\n    <tr>\n      <th>757</th>\n      <td>215</td>\n      <td>His Holiness the Karmapa talks about how he wa...</td>\n      <td>1523</td>\n      <td>TEDIndia 2009</td>\n      <td>1257292800</td>\n      <td>29</td>\n      <td>His Holiness the Karmapa</td>\n      <td>His Holiness the Karmapa: The technology of th...</td>\n      <td>1</td>\n      <td>2010-09-01 08:48:00</td>\n      <td>[confusing, longwinded, obnoxious, inspiring, ...</td>\n      <td>[{'id': 71, 'hero': 'https://pe.tedcdn.com/ima...</td>\n      <td>Spiritual leader</td>\n      <td>['brain', 'culture', 'happiness', 'religion', ...</td>\n      <td>The technology of the heart</td>\n      <td>https://www.ted.com/talks/his_holiness_the_kar...</td>\n      <td>800001</td>\n      <td>2010</td>\n    </tr>\n  </tbody>\n</table>\n</div>","text/plain":"      comments                                        description  duration  \\\n1910        54  Making toast doesnâ€™t sound very complicated --...       541   \n451        324  Behavioral economist Dan Ariely, the author of...      1046   \n1115       110  Cybercrime expert Mikko Hypponen talks us thro...       563   \n1405       810  When war between Israel and Iran seemed immine...       897   \n2361        31  Stories are necessary, but they're not as magi...       766   \n406        280  Behavioral economist Dan Ariely studies the bu...       983   \n775        229  Julian Treasure says our increasingly noisy wo...       434   \n335         45  Would you negotiate with someone you knew to b...      1389   \n145         83  The MIT Media Lab's John Maeda lives at the in...       959   \n757        215  His Holiness the Karmapa talks about how he wa...      1523   \n\n               event   film_date  languages              main_speaker  \\\n1910  TEDGlobal 2013  1370822400         28                 Tom Wujec   \n451          EG 2008  1229040000         45                Dan Ariely   \n1115    TEDxBrussels  1321488000         36            Mikko Hypponen   \n1405  TEDxJaffa 2012  1346889600         33                Ronny Edry   \n2361   TEDWomen 2016  1477526400         20           Sisonke Msimang   \n406          TED2009  1233964800         36                Dan Ariely   \n775   TEDGlobal 2010  1278633600         35           Julian Treasure   \n335          TED2008  1201910400         20            Samantha Power   \n145          TED2007  1172880000         24                John Maeda   \n757    TEDIndia 2009  1257292800         29  His Holiness the Karmapa   \n\n                                                   name  num_speaker  \\\n1910  Tom Wujec: Got a wicked problem? First, tell m...            1   \n451   Dan Ariely: Are we in control of our own decis...            1   \n1115       Mikko Hypponen: Three types of online attack            1   \n1405         Ronny Edry: Israel and Iran: A love story?            1   \n2361   Sisonke Msimang: If a story moves you, act on it            1   \n406                    Dan Ariely: Our buggy moral code            1   \n775       Julian Treasure: Shh! Sound health in 8 steps            1   \n335   Samantha Power: A complicated hero in the war ...            1   \n145                John Maeda: Designing for simplicity            1   \n757   His Holiness the Karmapa: The technology of th...            1   \n\n          published_date                                            ratings  \\\n1910 2015-02-05 16:01:26  [ingenious, fascinating, jaw-dropping, funny, ...   \n451  2009-05-19 01:00:00  [ingenious, funny, informative, courageous, fa...   \n1115 2012-01-18 14:54:24  [persuasive, informative, jaw-dropping, inspir...   \n1405 2012-12-21 16:08:02  [beautiful, jaw-dropping, courageous, inspirin...   \n2361 2017-01-13 16:19:34  [ingenious, inspiring, fascinating, informativ...   \n406  2009-03-17 01:00:00  [ingenious, persuasive, fascinating, informati...   \n775  2010-09-23 13:55:00  [unconvincing, obnoxious, fascinating, persuas...   \n335  2008-11-11 01:00:00  [courageous, inspiring, persuasive, jaw-droppi...   \n145  2007-09-20 08:38:00  [funny, beautiful, fascinating, inspiring, inf...   \n757  2010-09-01 08:48:00  [confusing, longwinded, obnoxious, inspiring, ...   \n\n                                          related_talks  \\\n1910  [{'id': 145, 'hero': 'https://pe.tedcdn.com/im...   \n451   [{'id': 487, 'hero': 'https://pe.tedcdn.com/im...   \n1115  [{'id': 1192, 'hero': 'https://pe.tedcdn.com/i...   \n1405  [{'id': 1214, 'hero': 'https://pe.tedcdn.com/i...   \n2361  [{'id': 462, 'hero': 'https://pe.tedcdn.com/im...   \n406   [{'id': 420, 'hero': 'https://pe.tedcdn.com/im...   \n775   [{'id': 660, 'hero': 'https://pe.tedcdn.com/im...   \n335   [{'id': 272, 'hero': 'https://pe.tedcdn.com/im...   \n145   [{'id': 2, 'hero': 'https://pe.tedcdn.com/imag...   \n757   [{'id': 71, 'hero': 'https://pe.tedcdn.com/ima...   \n\n                      speaker_occupation  \\\n1910                            Designer   \n451                 Behavioral economist   \n1115                Cybersecurity expert   \n1405                    Graphic Designer   \n2361                    Writer, activist   \n406                 Behavioral economist   \n775                     Sound consultant   \n335   Political scientist and journalist   \n145                               Artist   \n757                     Spiritual leader   \n\n                                                   tags  \\\n1910  ['business', 'collaboration', 'creativity', 'd...   \n451   ['culture', 'decision-making', 'economics', 'g...   \n1115  ['Internet', 'Surveillance', 'TEDx', 'crime', ...   \n1405  ['Iran', 'Middle East', 'TEDx', 'design', 'glo...   \n2361  ['Africa', 'Internet', 'activism', 'collaborat...   \n406   ['brain', 'culture', 'economics', 'evil', 'mot...   \n775   ['Senses', 'design', 'music', 'nature', 'psych...   \n335   ['communication', 'global issues', 'morality',...   \n145       ['art', 'design', 'simplicity', 'technology']   \n757   ['brain', 'culture', 'happiness', 'religion', ...   \n\n                                                  title  \\\n1910  Got a wicked problem? First, tell me how you m...   \n451             Are we in control of our own decisions?   \n1115                       Three types of online attack   \n1405                     Israel and Iran: A love story?   \n2361                    If a story moves you, act on it   \n406                                Our buggy moral code   \n775                        Shh! Sound health in 8 steps   \n335       A complicated hero in the war on dictatorship   \n145                            Designing for simplicity   \n757                         The technology of the heart   \n\n                                                    url    views  \\\n1910  https://www.ted.com/talks/tom_wujec_got_a_wick...  2482234   \n451   https://www.ted.com/talks/dan_ariely_asks_are_...  4934167   \n1115  https://www.ted.com/talks/mikko_hypponen_three...   957219   \n1405  https://www.ted.com/talks/israel_and_iran_a_lo...  2033797   \n2361  https://www.ted.com/talks/sisonke_msimang_if_a...  1147037   \n406   https://www.ted.com/talks/dan_ariely_on_our_bu...  2725557   \n775   https://www.ted.com/talks/julian_treasure_shh_...  1147609   \n335   https://www.ted.com/talks/samantha_power_on_a_...   456095   \n145   https://www.ted.com/talks/john_maeda_on_the_si...  1215947   \n757   https://www.ted.com/talks/his_holiness_the_kar...   800001   \n\n      published_year  \n1910            2015  \n451             2009  \n1115            2012  \n1405            2012  \n2361            2017  \n406             2009  \n775             2010  \n335             2008  \n145             2007  \n757             2010  "},"exec_count":16}},"pos":28,"start":1597700841802,"state":"done","type":"cell"}
{"cell_type":"code","id":"de5dda","input":"","pos":29,"type":"cell"}
{"cell_type":"markdown","id":"210b39","input":"<font size=18>Lesson 10 - Self-Assessment Solutions</font>","pos":1,"state":"done","type":"cell"}
{"cell_type":"markdown","id":"235221","input":"There are 2550 TED talks in this data frame.","pos":6,"state":"done","type":"cell"}
{"cell_type":"markdown","id":"28bb8c","input":"# *Self-Assessment: Stringified Dictionaries - Solution*\n\nThis is also straight from the book. When we use the literal_eval function on the ratings column, we get a dictionary that we can manipulate. The \"name\" key holds the part of the ratings that we care about. We want to convert these words to lower case and create a list of the words. We create an empty list if there were no ratings.\n","pos":16,"state":"done","type":"cell"}
{"cell_type":"markdown","id":"2aa26f","input":"# *Self-Assessment: Load and Display - Solution*\n\nThere's nothing too new here. You've done this kind of work before. What's more important here than the code is making sure you take a minute or two to understand the data you're pulling in. What columns do you have available to you? Which columns contain simple values and which columns contain lists. Think about how you could or couldn't use this data to make recommendations.","pos":2,"state":"done","type":"cell"}
{"cell_type":"markdown","id":"42279d","input":"# *Self-Assessment: Compute a Metric, Sort and Print - Solution*\n\nNote that here we are computing our metric on our narrowed data set. We could have created the metric on the entire dataset. But, if we know that we're only interested in a portion of the talks, we should narrow our dataset before computing the metric.","pos":12,"state":"done","type":"cell"}
{"cell_type":"markdown","id":"4973b7","input":"# *Self-Assessment: Dealing with Dates - Solution*\nThis is straight out of the book. Apply is a handy function available in pandas that lets you run a function for each row or column of your data. You're seeing examples here of using a lambda (inline) function as well as using a separately created function (convert_int). \n\nThe lambda function is just grabbing the year from the published date. It's doing that by splitting the string on the '-' character. This creates an array. We grab the first item in the array, which, if we had a valid date, should be the year. If we didn't have a valid date, then we drop in the np.nan.","pos":14,"state":"done","type":"cell"}
{"cell_type":"markdown","id":"60fd89","input":"# *Self-Assessment: Pandas - Solution*\nRemember that shape gives you the number of rows first, followed by the number of columns.","pos":4,"state":"done","type":"cell"}
{"cell_type":"markdown","id":"684a8e","input":"# *Self-Assessment: Create the Knowledge-Based Recommender - Solution*\n\nWe're creating this as a function that takes in the dataframe and the percentile of views that we want to return. \nWe'll first generate our list of unique words to present to users. We'll also stringify our list of ratings so we can use str.contains to filter.","pos":18,"state":"done","type":"cell"}
{"cell_type":"markdown","id":"a1b487","input":"Let's compare that with calculating the quantile after we subset.","pos":9,"state":"done","type":"cell"}
{"cell_type":"markdown","id":"be49cc","input":"There is no universally \"right\" answer as to whether you should calculate the quantile before or after you've narrowed the initial dataset. It depends on what you're trying to accomplish. If you want the most viewed talks *that meet your criteria* you'd calculate it after you've subsetted. If you want the most viewed talks *overall* you'd calculate it before you've subsetted.\n\nFor our homework, we'll either tell you when to subset a dataframe or ask you to make the decision and give a justification for your decision.","pos":11,"state":"done","type":"cell"}
{"cell_type":"markdown","id":"cae9af","input":"# *Self-Assessment: Create the Content-Based Recommender Based on Cosine Similarity - Solution*\nThis is also straight from the book. We don't expect you to understand everything to do with linear kernels. But if you're interested, the documentation is here:\nhttps://scikit-learn.org/stable/modules/generated/sklearn.metrics.pairwise.linear_kernel.html\n\n","pos":25,"state":"done","type":"cell"}
{"cell_type":"markdown","id":"d2e606","input":"# *Self-Assessment: TF-IDF Vectors - Solution*\nThis is all straight from the book. More information about the TfidfVectorizer is available online here: https://scikit-learn.org/stable/modules/generated/sklearn.feature_extraction.text.TfidfVectorizer.html","pos":21,"state":"done","type":"cell"}
{"cell_type":"markdown","id":"db6b5e","input":"# *Self-Assessment: Prerequisites - Solution*\n\nRemember that when you're calculating the quantile for some piece of data, you'll get different results if you calculate it before or after you do your other subsetting. First, let's calculate the views quantile before we figure the rest of our prerequisites.","pos":7,"state":"done","type":"cell"}
{"id":0,"time":1597700325209,"type":"user"}
{"last_load":1597700325427,"type":"file"}